<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

    <section id="genericinterface_communication_flow">
        <title>ウェブサービス・コマンドライン・インタフェース</title>
        <para>
            一般インターフェイスは、供給者としてそして同様に要求者としてアクションを実施するために定義済フローをも待っています。
        </para>
        <para>
            これらのフローは以下に記述されます。
        </para>

        <section>
            <title>供給者としてのOTRS</title>
            <section>
                <title>
                    リモートリクエスト：
                </title>
                <orderedlist>
                    <listitem>
                        <para>
                            HTTPリクエスト
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    OTRSは、HTTPリクエストを受け取りそれをレイヤーに渡します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    供給者モジュールはこれらのアクションを実行しコントロールすることを担当しています。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            ネットワーク・トランスポート
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    ネットワーク・トランスポート・モジュールは、データ・ペイロードをデコードし、オペレーション名とデータのそれ以外の部分とを区別します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    オペレーション名およびオペレーションデータは供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ外部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    リモートシステムから送信されたデータ（これはモジュールベースのレイヤーではありません）。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データは、このオペレーション(入信する依頼データ用マッピング)のためのマッピング構成で指定されるように、外部システム・フォーマットからOTRS内部形式へ変換されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    変換され、そしてオペレーション(これはモジュールベースのレイヤではありませんん)に渡される準備が整ったデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            オペレーション
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データを受取り、有効化します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ユーザ・アクセス・コントロールを行います。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    アクションを実行します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
            <section>
                <title>
                    OTRSレスポンス:
                </title>
                <orderedlist>
                        <listitem>
                            <para>
                                オペレーション
                            </para>
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        供給者に結果データを返します。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    オペレーションから返されるデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    データは、マッピング構成(発信の応答データ用マッピング)で指定されるリモート・システム・フォーマットに変換されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ外部</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    返答としてネットワーク・トランスポートに渡されるために変換され、準備されるようなデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            ネットワーク・トランスポート
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    既にリモート・システム・フォーマット済みのデータを受け取ります。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    このネットワーク・トランスポートタイプのための有効なレスポンスを構成します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            HTTPレスポンス
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    応答はウェブサービス・クライアントに返送されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    エラーの場合には、エラー・レスポンスが、遠隔のシステム(例えばSOAPエラー、HTTPエラーなど)に送られます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>

        <section>
            <title>依頼者としてのOTRS</title>
                <section>
                    <title>OTRS依頼:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                イベント・トリガー・ハンドラ
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        ウェブサービス構成に基づいて、依頼が同期か非同期かを決定します。
                                    </para>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                同期
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        要求者への直接呼び出しは、新しい要求を作成し、それをレイヤーに渡すために行われます。
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                非同期
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        OTRSデーモン用の新しいGeneric
Interface（要求者）タスクを作成します（Scehdulerデーモンに要求実行を委任することにより、ユーザーエクスペリエンスが大幅に向上することが可能になります。そうでなければ、これらの要求のトリガによって、要求を準備するのとリモート実行に必要な時間が必要になります）。
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        次のサイクルでは、OTRSデーモンプロセスが新規タスクを読んで、リクエスタへの呼び出しを作成します。このリクエスタは新しい要求を作成し、それをレイヤーに渡します。
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                依頼アクション(Invokers)
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        イベントからデータを受け取ります。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        受信したデータを検証します（必要な場合）。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        データを補完するためにコアモジュールを呼び出します（必要な場合）。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        要求データ構造を返すか、要求側に停止通信信号を送信し、正しく要求をキャンセルします。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ内部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        呼び出し元から渡されたデータ(これはモジュールベースのレイヤではありません)。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                マッピング
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        データは、マッピング構成(発信の応答データ用マッピング)で指定されるリモート・システム・フォーマットに変換されます。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        既に変換されたデータは、依頼者に返されます。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ外部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        リモートシステムに送信するために変換され準備されたデータ。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                ネットワーク・トランスポート
                            </para>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            リモート・オペレーション名と、既にリモート・システム・フォーマットに変換されたデータを要求側から受信します。
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ネットワーク・トランスポートの有効な依頼を構成します。
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            要求をリモートシステムに送信し、応答を待ちます。
                                        </para>
                                    </listitem>
                                </itemizedlist>
                        </listitem>
                    </orderedlist>
                </section>
                <section>
                    <title>リモート応答:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                ネットワーク・トランスポート
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        応答を受信し、データペイロードをデコードします。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        データを要求側に返します。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ外部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        リモートシステムから受信したデータ。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データは、この操作のマッピング設定で指定されているように、外部システムフォーマットからOTRS内部フォーマットに変換されます（受信応答データのマッピング）。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、依頼者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データは変換され、依頼者に返送される準備ができています。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            依頼アクション(Invokers)
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    返信データを受け取る
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    各Invokerによって必要に応じてデータを処理します(存在する場合はエラー処理を含みます)。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    依頼者に実行者の結果とデータを返します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            イベントハンドラまたはOTRSデーモン
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    依頼者からデータを受信します。 OTRSデーモンの場合、このデータには将来のタスクを作成するための情報が含まれている可能性があります。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>
    </section>
