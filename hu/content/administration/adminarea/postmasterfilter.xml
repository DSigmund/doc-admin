<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

<section id="adminarea-postmasterfilter">
    <title>Bejövő e-mail üzenetek szűrése</title>
    <para>
        OTRS has the capability to filter incoming email messages. For example, it
is possible to put certain emails automatically into specified queues, or to
set a specific state or ticket type for some mails. The filters apply to all
incoming mails. Several filter conditions can be defined per each mail
header. You can manage your filters via the link "PostMaster Filter" on the
Admin page (see figure below).
    </para>
    <para>
        <figure>
            <title>Levelezési szűrőkezelés</title>
<screenshot>
<graphic
fileref="screenshots/administration/adminarea/admin-postmasterfilter.png"
scalefit="1" width="100%" contentdepth="100%"></graphic></screenshot></figure>
    </para>
    <para>
        A filter consists of one or more criteria that must be met in order for the
defined actions to be executed on the email. Filter criteria may be defined
for the headers or the body of an email, e.g. search for specific header
entries, such as a sender address, or on strings in the body. Even regular
expressions can be used for extended pattern matching. If your filter
matches, you can set fields using the <literal>X-OTRS</literal> headers in
the GUI. These values will be applied when creating the ticket or follow-up
message in OTRS. The table below lists the different
<literal>X-OTRS</literal> headers and their meaning.
    </para>
    <note>
        <para>
            You also can use <literal>X-OTRS-FollowUp-*</literal> headers to set values
for follow up emails.
        </para>
    </note>

    <table id="table-of-x-otrs-headers">
    <title>A különböző X-OTRS-fejlécek funkciója</title>
        <tgroup cols="3">
            <thead>
                <row>
                    <entry>Név</entry>
                    <entry>Lehetséges értékek</entry>
                    <entry>Leírás</entry>
                </row>
            </thead>
        <tbody>
            <row>
                <entry>X-OTRS-Priority:</entry>
                <entry>1 very low, 2 low, 3 normal, 4 high, 5 very high</entry>
                <entry>Beállítja egy jegy prioritását.</entry>
            </row>
            <row>
                <entry>X-OTRS-Queue:</entry>
                <entry>Egy várólista neve a rendszeren.</entry>
                <entry>
                    Sets the queue where the ticket shall be sorted. If set in X-OTRS header,
all other filter rules that try to sort a ticket into a specific queue are
ignored. If you use a sub-queue, specify it as
<literal>Parent::Sub</literal>.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-Lock:</entry>
                <entry>lock, unlock</entry>
                <entry>Beállítja egy jegy zárolt állapotát.</entry>
            </row>
            <row>
                <entry>X-OTRS-Ignore:</entry>
                <entry>Yes vagy True</entry>
                <entry>
                    Ha ez az X-OTRS fejléc „Yes” értékre van állítva, akkor a bejövő üzenet
teljesen figyelmen kívül lesz hagyva, és sosem lesz kézbesítve a rendszerre.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-State:</entry>
                <entry>new, open, closed successful, closed unsuccessful, …</entry>
                <entry>Beállítja a jegy következő állapotát.</entry>
            </row>
            <row>
                <entry>X-OTRS-State-PendingTime:</entry>
                <entry>például 2010-11-20 00:00:00</entry>
                <entry>
                    Sets the pending time of a ticket (you also should sent a pending state via
X-OTRS-State). You can specify absolute dates like "2010-11-20 00:00:00" or
relative dates, based on the arrival time of the email. Use the form "+
$Number $Unit", where $Unit can be 's' (seconds), 'm' (minutes), 'h' (hours)
or 'd' (days). Only one unit can be specified. Examples of valid settings:
"+50s" (pending in 50 seconds), "+30m" (30 minutes), "+12d" (12 days). Note
that settings like "+1d 12h" are not possible. You can specify "+36h"
instead.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-Type:</entry>
                <entry>alapértelmezett (a beállítástól függ)</entry>
                <entry>Sets the type of a ticket (if <literal>Ticket::Type</literal> is activated).</entry>
            </row>
            <row>
                <entry>X-OTRS-Service:</entry>
                <entry>(a beállítástól függ)</entry>
                <entry>
                    Sets the service of a ticket (if <literal>Ticket::Service</literal> is
active). If you want to set a sub-service you should specify it as
<literal>Parent::Sub</literal>.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-SLA:</entry>
                <entry>(a beállítástól függ)</entry>
                <entry>Sets the SLA of a ticket (if <literal>Ticket::Service</literal> support is
active).</entry>
            </row>
            <row>
                <entry>X-OTRS-CustomerUser:</entry>
                <entry>CustomerUser</entry>
                <entry>Beállítja az ügyfél-felhasználót a jegynél.</entry>
            </row>
            <row>
                <entry>X-OTRS-CustomerNo:</entry>
                <entry>CustomerNo</entry>
                <entry>Beállítja az ügyfél-azonosítót a jegynél.</entry>
            </row>
            <row>
                <entry>X-OTRS-SenderType:</entry>
                <entry>agent, system, customer</entry>
                <entry>Beállítja a jegy küldőjének típusát.</entry>
            </row>
            <row>
                <entry>X-OTRS-IsVisibleForCustomer:</entry>
                <entry>0, 1</entry>
                <entry>Controls if the article is shown in the customer interface.</entry>
            </row>
            <row>
                <entry>X-OTRS-DynamicField-&lt;DinamikusMezőNeve&gt;:</entry>
                <entry>
                    A dinamikus mező beállításától függ (Szöveg: Jegyzettömb, Dátum: 2010-11-20
00:00:00, Egész: 1)
                </entry>
                <entry>
                    Saves an additional info value for the ticket on
<literal>&lt;DynamicFieldName&gt;</literal> Dynamic Field.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-Loop:</entry>
                <entry>True</entry>
                <entry>
                    Ha ez az X-OTRS fejléc be van állítva, akkor nem lesz automatikus válasz
kézbesítve az üzenet küldőjének (levélhurok védelem).
                </entry>
            </row>
            <row>
                <entry>X-OTRS-FollowUp-State-Keep:</entry>
                <entry>0, 1</entry>
                <entry>
                    If this X-OTRS header is set, the incoming follow-up message will not change
the ticket state. For this purpose the header can be customized in the
SysConfig using option <literal>KeepStateHeader</literal>.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-AttachmentExists:</entry>
                <entry>no, yes</entry>
                <entry>
                    Depending on whether attachments are included in the email this X-OTRS
header is set to 'yes', or it has a 'no' value if no attachments are
included.
                </entry>
            </row>
            <row>
                <entry>X-OTRS-AttachmentCount:</entry>
                <entry>(number of attachments)</entry>
                <entry>
                    This X-OTRS header contains as value the number of attachments which are
contained in the email (i.e. '0' for mails without attachments).
                </entry>
            </row>
        </tbody>
      </tgroup>
    </table>
    <para>
        You should specify a name for every filter rule. Filter criteria can be
specified in the section "Filter Condition". Choose via the list boxes for
"Header 1", "Header 2" and so on for the parts of the messages where you
would like to search, and specify on the right side the values you wish to
filter on. In the section "Set Email Headers", you can choose the actions
that are triggered if the filter rules match. You can select for "Header 1",
"Header 2" and so on to select the X-OTRS-Header and set the associated
values (see figure below).
    </para>
    <para>
        A szűrőszabályok ábécé-sorrendben lesznek kiértékelve, és az összes
végrehajtásra kerül, kivéve ha a „Leállítás találat után” beállítás „Igen”
értékre lett állítva az egyik szabályban (ebben az esetben a hátralévő
szűrők kiértékelése meg lesz szakítva).
    </para>
    <para>
        <figure>
            <title>Egy levelezési szűrő hozzáadása</title>
<screenshot>
<graphic
fileref="screenshots/administration/adminarea/add-postmasterfilter.png"
scalefit="1" width="100%" contentdepth="100%"></graphic></screenshot></figure>
    </para>
    <example id="sort-mails-into-junk">
        <title>SPAM-levelek kiválogatása egy adott várlistába</title>
        <para>
            Egy hasznos szűrőszabály lenne automatikusan megengedni az OTRS-nek egy
levélszemét-felismerő eszköz használatával - mint például a SpamAssassin - a
levélszemétként megjelölt levelek áthelyezését a „Szemét” várólistába. A
SpamAssassin hozzáadja az „X-Spam-Flag” fejlécet minden ellenőrzött
levélhez. Amikor a levél szemétként van megjelölve, akkor a fejléc „Yes”
értékre van állítva. Így a szűrőszabály „X-Spam-Flag: Yes” lenne. Egy
szűrőszabály létrehozásához ezzel a feltétellel beszúrhatja például a
„spam-levelek” nevet. A „Szűrőszabályok” szakaszban válassza az
„X-Spam-Flag:” lehetőséget az „1. fejléchez” a listamezőből. Szúrja be a
„Yes” értéket ehhez a fejléchez. Most már a szűrőfeltétel meg van adva. Hogy
meggyőződjön arról, hogy minden szemét levél a „Szemét” várólistába kerül
elhelyezésre, válassza az „E-mail fejlécek beállítása” szakaszban az
„X-OTRS-Queue:” bejegyzést az „1 fejléchez”. Adja meg a „Szemét” értéket
ehhez a fejléchez. Végül az új szűrőszabály hozzáadásához kapcsolja be azt a
rendszeren lévő új üzenetekhez.
        </para>
    </example>
    <para>
        There are additional modules that can be used to <link
linkend="email-receiving-filter">filter incoming messages</link> more
specifically. These modules might be useful when dealing with larger, more
complex systems.
    </para>
</section>
