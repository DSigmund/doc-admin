<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

<section id="configuration">
<title>System Configuration</title>

<section id="directories-and-configfiles">
<title>OTRS config files</title>

<para>
All OTRS configuration files are stored in the directory <filename>Kernel</filename> and in its subdirectories. There is no need to manually change any other file than <filename>Kernel/Config.pm</filename>, because the rest of the files will be changed when the system gets upgraded. Just copy the configuration parameters from the other files into <filename>Kernel/Config.pm</filename> and change them as per your needs. This file will never be touched during the upgrade process, so your manual settings are safe.
</para>

<para>
When the configuration is rebuild either manually by executing <literal>perl bin/otrs.Console.pl Maint::Config::Rebuild</literal> or automatically by the installer, package operations (install, upgrade, reinstall and uninstall), etc. All .xml files localed in <filename>Kernel/Config/Files/XML/</filename> are parsed and converted to records in the OTRS database. OTRS Free provides some of this .xml files, but installed packages such as FAQ or Survey add their own configuration files in this path.
</para>

<para>
To make effective the configuration stored in the OTRS database is necessary to run a process called deployment, this process will extract all the settings and their values from the OTRS database, converting them to a format that OTRS can understand naturally and place them into the file <filename>Kernel/Config/Files/ZZZAAuto.pm</filename>.
</para>

<para>
If the OTRS web interface is accessed the settings contained in the files <filename>Kernel/Config/Files/ZZZAAuto.pm</filename>,
<filename>Kernel/Config/Files/ZZZACL.pm</filename> (if it exists), <filename>Kernel/Config/Files/ZZZProcessManagement.pm</filename> (if it exists) and any other custom .pm file will be evaluated alphabetically. These files are used by the graphical interface for system configuration caching and should never be changed manually. Lastly, the file <filename>Kernel/Config.pm</filename> that contains your individual settings and manually changed configuration parameters, will be parsed. Reading the configuration files in this order makes sure that your specific configuration settings are used by the system.
</para>

</section>

<section id="sysconfig">
<title>Configuring the System Through the Web Interface</title>

<para>
Since OTRS 2.0, nearly all configuration parameters of the central framework or additional installed applications, can be changed easily with the graphical interface for system configuration. Log in as OTRS administrator and click the System Configuration button on the Admin page to execute the new configuration tool (see figure below).
</para>

<para>
<figure>
    <title>The graphical interface for system configuration</title>
    <screenshot>
         <graphic fileref="screenshots/administration/adminarea/admin-systemconfiguration.png" scalefit="1" width="100%" contentdepth="100%"></graphic>
    </screenshot>
</figure>
</para>

<para>
OTRS Free currently has over 1700 configuration settings, and there are different ways to quickly access a specific one. With the full text search, all configuration settings can be scanned for one or more keywords. The full text search not only searches through the names of the configuration settings, but also through the descriptions and values. This allows an element to be found easily even if its name is unknown.
</para>

<para>
Furthermore, each configuration setting is sorted by a category and a navigation group. Navigation groups are individual elements in the main navigation tree, by selecting one of this navigation entries, all settings assigned to that navigation element will be shown. Since OTRS Free only provides its own category, the category selection is hidden, but as soon as a package that contains more configuration settings is installed (such as FAQ or Survey), the category selection will be displayed. Selecting a category reduces the main navigation tree, to only the navigation groups for the settings that belongs to that category.
</para>

<para>
By default all configuration settings are shown in display mode, to edit their values is necessary to press the "Edit this setting" button that appears on mouse hover over the setting. Once in edit mode changes can be saved or cancel by pressing the check mark or cancel button respectively. If a setting is currently edited by another administrator, it is not possible to get access to the edit mode for that setting until the other administrator finish.
</para>

<para>
Pressing the setting name or the menu icon the the top right corner of each setting revels a new menu with some more options e.g. enable / disabled setting (where applies), reset value to the default, copy the setting link or add setting to favorites lists for quick access.
</para>

<para>
After all needed changes are done a new deployment has to be done, in order to make this changes effective in the system. System Configuration Deployment screen shows a list of the settings to be deployed, pressing the arrows icon on the top left of each setting or in the outer "Changes Overview" box will show a one to one setting comparison with the value to be deployed VS last (or default) value and and other information.
</para>

<para>
<figure>
    <title>System configuration deployment</title>
    <screenshot>
         <graphic fileref="screenshots/administration/adminarea/admin-systemconfigurationdeployment.png" scalefit="1" width="100%" contentdepth="100%"></graphic>
    </screenshot>
</figure>
</para>

<para>
If you want to save all the changes you made to your system's configuration, for example to setup a new installation quickly, you can use the "Export settings" button, which will create a .yml file. To restore your own settings, just press the "Import settings" and select the .yml created before.
</para>

<note>
<para>
For security reasons, the configuration settings for the database connection cannot be changed in the SysConfig section. They have to be set manually in <filename>Kernel/Config.pm</filename>.
</para>
</note>

</section>

</section>
