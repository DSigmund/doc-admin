<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

<section id="installation-of-prepared-packages">
<title>The simple way - Installation of pre-built packages</title>

<para>
If available for your platform you should use pre-built packages to install OTRS, since it is the simplest and most convenient method. You can find them in the download area at
<ulink url="http://www.otrs.com">
    <citetitle>http://www.otrs.com</citetitle>
</ulink>
. The following sections describe the installation of OTRS with a pre-built or binary package on SUSE, Red Hat and Microsoft Windows systems. Only if you are unable to use the pre-built packages for some reason should you follow the manual process.
</para>

<section id="installation-on-suse">
<title>Installing the RPM on a SUSE Linux server</title>

<para>
This section describes the installation of our RPM package on a SUSE Linux server. We have tested against all recent SLES and openSUSE versions. Before you start the installation, please visit
<ulink url="http://www.otrs.com/downloads">
    <citetitle>http://www.otrs.com/downloads</citetitle>
</ulink>
and make sure you use the latest OTRS RPM package available.
</para>

<section id="preparing-database-mysql">
<title>Preparing the database for OTRS</title>

<para>
You can use OTRS using different database back-ends: MySQL, PostgreSQL, Oracle or Microsoft SQL Server. The most popular database to deploy OTRS on is MySQL. 
This chapter shows the steps you need to take to configure MySQL on a SUSE-based server. Of course you can install the database on a dedicated database 
server if needed for scalability or other purposes. 
</para>

<para>
    Install MySQL by executing the following command as root:
</para>

<para>
    <screen>
        linux:~ # zypper install mysql perl-DBD-mysql
    </screen>
</para>

<para>
    This will install MySQL with the default options on your system. You'll need to change the defaults in order to make it suitable for OTRS. With a text
    editor open the file <filename>/etc/my.cnf</filename> and change the line with <command>max_allowed_packet</command> on it, and add a line below, like this:
</para>

<para>
    <screen>
        max_allowed_packet = 16M
        query_cache_size = 32M
    </screen>
</para>

<para>
    Now execute <command>rcmysql restart</command> to re-start the database server and activate these changes. Then run
    <command>/usr/bin/mysql_secure_installation</command> and follow the on-screen instructions to set a database root 
    password, remove anonymous access and remove the test database. Lastly, run <command>chkconfig -a mysql</command>
    in order to make sure mysql is automatically started at server startup time.
</para>
   
</section>

<section>
    <title>Installing OTRS</title>
<para>
Install OTRS with via the command line using <command>zypper</command>. This will also pull in some dependencies such as
the apache web server and some Perl modules. Make sure you copied the OTRS RPM file to the current directory. 
</para>
<para>
    <screen>
otrs-sles:~ # zypper install otrs-3.2.*.rpm  
....
Retrieving package otrs-3.2.3-01.noarch (1/26), 17.5 MiB (74.3 MiB unpacked)
Installing: otrs-3.2.3-01 [done]
Additional rpm output:
Check OTRS user ... otrs added.

Next steps:

[SuSEconfig]
 Execute 'SuSEconfig' to configure the webserver.

[start database and Apache]
 Make sure your database is running and execute 'rcapache2 restart'.

[install the OTRS database]
 Use a webbrowser and open this link:
 http://myserver.example.com/otrs/installer.pl

[OTRS services]
 Start OTRS 'rcotrs start-force' (rcotrs {start|stop|status|restart|start-force|                                                                                                                     stop-force}).

((enjoy))

 Your OTRS Team
 http://otrs.org/

otrs-sles:~ #
    </screen>
</para>

<para>
<emphasis>Script: Command to install OTRS.</emphasis>
</para>

<para>
The OTRS installation is done. Run SuSEconfig, start your web server to load the OTRS specific changes in its configuration, as shown in the script below.
Also run <command>chkconfig</command> to make sure OTRS is automatically started when the server reboots.
</para>

<para>
<screen>
otrs-sles:~ # SuSEconfig
Starting SuSEconfig, the SuSE Configuration Tool...
Running in full featured mode.
Reading /etc/sysconfig and updating the system...
Executing /sbin/conf.d/SuSEconfig.glib2...
Executing /sbin/conf.d/SuSEconfig.permissions...
Finished.
otrs-sles:~ # chkconfig -a apache2
apache2                   0:off  1:off  2:off  3:on   4:off  5:on   6:off
otrs-sles:~ # rcapache2 start
Starting httpd2 (prefork) httpd2-prefork: Could not reliably determine the server's fully qualified domain name, using 10.x.x.x for ServerName
                                                                                                                                                                                          done
otrs-sles:~ #
</screen>
</para>

<para>
<emphasis>Script: Starting the web server.</emphasis>
</para>

</section>

<section>
    <title>Installation of additional perl modules</title>
    <para>OTRS needs some more modules than can be installed by the RPM. You can post-install them manually. You can check what modules you are 
        missing by running the <filename>bin/otrs.CheckModules.pl</filename> script located in the <filename>/opt/otrs</filename> directory.
        Some modules are only needed for optional functionality, such as communication with IMAP(S) servers or PDF generation.
        On SLES you should add an external repository to the zypper configuration in order to get the modules needed for your system.
        Choose the module needed for your OS version from here: <ulink url="http://download.opensuse.org/repositories/devel:/languages:/perl/">http://download.opensuse.org/repositories/devel:/languages:/perl/</ulink>. Add the repository like this:
    </para>

    <para>
        <screen>
 zypper ar -f -n perl http://download.opensuse.org/repositories/devel:/languages:/perl/SLE_11_SP2 Perl
        </screen>
    </para>
    <para>
        The first time you use zypper after you added this repository, you will be prompted to add its key. Now you can install missing modules like below.
    </para>
    <para>
        <screen>
otrs-sles:/opt/otrs # zypper -y install "perl(YAML::LibYAML)"
Refreshing service 'susecloud'.
Retrieving repository 'perl' metadata [\]

New repository or package signing key received:
Key ID: DCCA98DDDCEF338C
Key Name: devel:languages:perl OBS Project <devel:languages:perl@build.opensuse.org>
Key Fingerprint: 36F0AC0BCA9D8AF2871703C5DCCA98DDDCEF338C
Key Created: Wed Oct 10 22:04:18 2012
Key Expires: Fri Dec 19 22:04:18 2014
Repository: perl

Do you want to reject the key, trust temporarily, or trust always? [r/t/a/?] (r): a
Retrieving repository 'perl' metadata [done]
Building repository 'perl' cache [done]
Loading repository data...
Reading installed packages...
'perl(YAML::LibYAML)' not found in package names. Trying capabilities.
Resolving package dependencies...

The following NEW package is going to be installed:
  perl-YAML-LibYAML

The following package is not supported by its vendor:
  perl-YAML-LibYAML

Retrieving package perl-YAML-LibYAML-0.38-12.4.x86_64 (1/1), 75.0 KiB (196.0 KiB unpacked)
Retrieving: perl-YAML-LibYAML-0.38-12.4.x86_64.rpm [done (55.7 KiB/s)]
Installing: perl-YAML-LibYAML-0.38-12.4 [done]
        </screen>
    </para>
</section>

<para>
The next step is to configure OTRS using the web installer, as described <link linkend="database-configuration">in this section</link>.
</para>
</section>

<section id="installation-on-centos">
<title>Installing OTRS on a Red Hat Enterprise Linux or CentOS system</title>

<para>
On the OTRS Wiki you can find detailed instructions for setting up OTRS on a CentOS system. Please note that these instructions will also apply to Red Hat Linux systems since they use the same source:
<ulink url="http://wiki.otrs.org/index.php?title=Installation_of_OTRS_3.0b1_on_CentOS_5.5">
http://wiki.otrs.org/index.php?title=Installation_of_OTRS_3.0b1_on_CentOS_5.5
</ulink>
.
</para>

</section>

<section id="installation-on-debian">
<title>Installing OTRS on a Debian system</title>

<para>
On the OTRS Wiki you can find detailed instructions for setting up OTRS on a Debian system:
<ulink url="http://wiki.otrs.org/index.php?title=Installation_on_Debian_5.04_lenny">
http://wiki.otrs.org/index.php?title=Installation_on_Debian_5.04_lenny
</ulink>
.
</para>

</section>

<section id="installation-on-ubuntu">
<title>Installing OTRS on a Ubuntu system</title>

<para>
On the OTRS Wiki you can find detailed instructions for setting up OTRS on an Ubuntu system:
<ulink url="http://wiki.otrs.org/index.php?title=Installation_on_Ubuntu_Lucid_Lynx_(10.4)">
http://wiki.otrs.org/index.php?title=Installation_on_Ubuntu_Lucid_Lynx_(10.4)
</ulink>
.
</para>

</section>

<section id="installation-on-windows">
<title>Installing OTRS on Microsoft Windows systems</title>

<para>
Installing OTRS on a Microsoft Windows system is very easy. Download the latest installer for Win32 from
<ulink url="http://www.otrs.org/downloads/">
    <citetitle>http://www.otrs.org/downloads/</citetitle>
</ulink>
and save the file to your local file system. Then simply double-click on the file to execute the installer, and follow the few installation steps to setup the system. After that you will be able to login as OTRS administrator and
configure the system according to your needs. To log in as OTRS administrator use the user name 'root@localhost' and the default password 'root'.
</para>

<warning>
<para>
Please change the password for the 'root@localhost' account as soon as possible.
</para>
</warning>

<important>
<para>
The Win32 installer for OTRS contains all needed components for OTRS, i.e. the <application>Apache</application>
web server, the <application>MySQL</application> database server, <application>Perl</application> (with all needed modules) and <application>Cron</application> for Windows. For that reason you should only install OTRS on Windows systems that don't already have an installation of <application>Apache</application> or another web server, or
<application>MySQL</application>.
</para>
</important>

</section>

</section>
