<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">


<!-- $Id: adminarea.xml,v 1.4 2011-01-25 15:36:16 mg Exp $ -->
<chapter id="adminarea">
<title>Админка OTRS</title>

<section id="adminarea-general">
<title>Основы</title>

<para>
Это главное место для OTRS-администраторов. Здесь вы можете изменить
конфигурацию, установить дополнительные модули, такие как FAQs-система (ЧАВО
- Часто Задаваемые Вопросы) и ITSM, добавить очереди и агентов и многое
другое.</para>

<para>
Агенты, которые являются членами группы <emphasis>admin</emphasis> могут
иметь доступ к админке, нажав на кнопку
<emphasis>Администрирование</emphasis> на панели навигации (см. ниже Рисунок
5.1); остальные агенты не будут видеть эту ссылку. В новой, только что
установленной системе вы можеле залогинится используя логин
<emphasis>root@localhost</emphasis> и пароль <emphasis>root</emphasis>.
</para>

<warning>
<para>
Пожалуйста измените пароль для этой учетной записи как можно быстрее. Для
этого перейдите по ссылке <link linkend="user-preferences"> пользовательские
предпочтения </link>. поскольку это пароль, который используется в системе
OTRS по умолчанию.
</para>
</warning>

<para>
<screenshot>
<screeninfo>Админка OTRS</screeninfo> <graphic srccredit="Adminarea -
screenshot" scale="40" fileref="screenshots/adminarea.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.1. Админка агентского веб-интерфейса. </emphasis>
</para>

</section>


<section id="adminarea-agents-groups-and-roles">
<title>Агенты, группы и роли</title>

<section id="adminarea-agents">
<title>Агенты</title>

<para>
Нажав на ссылку <emphasis>Агент</emphasis> вы получите доступ для управления
пользователями OTRS (см. ниже Рисунок 5.2). Администраторы могут добавлять,
изменять или деактивировать аккаунты агентов. Администраторы также могут
управлять пользовательскими настройками агентов, например изменять язык их
веб-интерфейса, настройки уведомлений.
</para>

<note>
<para>
Чтобы сохранить связаность данных, в OTRS нету возможности удалять учетные
записи любого агента, можно только деактивировать аккаунты. Чтобы сделать
это, установите значения <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
<screenshot>
<screeninfo>Управление учетной записью агента</screeninfo> <graphic srccredit="Adminarea agent
management - screenshot" scale="40"
fileref="screenshots/admin-agents.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.2. Управление учетной записью агента.</emphasis>
</para>

<para>
Чтобы создать агента, нажмите на кнопку "Добавить агента", введите все
необходимые данные и нажмите кнопку "Отправить" в нижней части экрана, как
это показано на Рисунке 5.3.
</para>

<para>
<screenshot>
<screeninfo>Добавление агента</screeninfo> <graphic srccredit="Adminarea agent
management - screenshot" scale="40"
fileref="screenshots/add-agent.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.3. Добавление нового агента.</emphasis>
</para>

<para>
После того, как новая учетная запись создана, вы должны сделать агента
членом одной или нескольких груп или ролей. Таким образом вы будете
автоматически перенаправлены на соответсвтующую страницу. За дополнительной
информацией о группах и ролях обращайтесь к разделу <link
linkend="adminarea-groups">Группы</link> и <link
linkend="adminarea-roles">Роли</link> данной главы.
</para>

</section>

<section id="adminarea-groups">
<title>Группы</title>

<para>
Группы очень важны в OTRS и каждая учетная запись агента должна принадлежать
по крайней мере к одной группе или роли. После установки системы есть три
предопределенных групы, которые приведены в Таблице 5-1.
</para>

<para>
<table id="table-of-groups-after-installation">
<title>Предопределенные групы для новой установленной  системы OTRS </title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>Группа</entry>
        <entry>Описание</entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>admin</entry>
        <entry>Допускается для выполнения административных задач в системе.</entry>
      </row>
      <row>
        <entry>stats</entry>
        <entry>
          Компетентные для генерации статистики и доступа к модулю статистики OTRS.
        </entry>
      </row>
      <row>
        <entry>users</entry>
        <entry>
          Это группа, к которой должны принадлежать ваши агенты и иметь права для
чтения и записи. Если агенты находятся в этой группе и имеют права на
записть, то они могут использовать все функции системы для обработки заявок.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>
</para>

<note>
    <para>
        В новой установленной системе OTRS, группа <emphasis>users</emphasis> пуста
и агент "root@localhost" по умолчанию принадлежит к группе admin и stats.
    </para>
</note>

<para>
Для управления группами нажмите на ссылку <emphasis>Группы</emphasis> в
админке (см. ниже Рисунок 5.4).
</para>

<para>
<screenshot>
<screeninfo>Управление группами в OTRS</screeninfo> <graphic srccredit="Adminarea group
management - screenshot" scale="40"
fileref="screenshots/admin-groups.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.4. Управление групами.</emphasis>
</para>

<note>
<para>
Для сохранения целосности и связаности данных, в OTRS нету возможности
удалять группы, а только деактивировать их. Что бы это сделать, установите
их значения в <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
Чтобы сделать агента учасником гурппы или изменить данные агентов, которые
принадлежат группе используйте ссылку <emphasis>Агенты &lt;-&gt;
Группы</emphasis> в панели управления (см. ниже Рисунок 5.5).
</para>

<para>
<screenshot>
<screeninfo>Управление группами агентов</screeninfo> <graphic srccredit="Adminarea groups
and agents - screenshot" scale="40"
fileref="screenshots/admin-agents-and-groups.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.5. Управление группами.</emphasis>
</para>

<para>
В системе отображается приводится обзор всех групп и агентов, но вы также
можете использовать фильтры для поиска конкретного элемента. Если вы хотите
изменить группу, членом которой является агент, просто нажмите на имя агента
(см. ниже Рисунок 5.6). Для изменения агентов, которые являются частью
группы просто нажмите на нужную группу (см. ниже Рисунок 5.7).
</para>

<para>
<screenshot>
<screeninfo>Управление группами агентов</screeninfo> <graphic srccredit="Adminarea groups
and agents - screenshot" scale="40"
fileref="screenshots/agent-group-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.6. Изменение группы, к которой принадлежит
агент.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Управление группами агентов</screeninfo> <graphic srccredit="Adminarea groups
and agents - screenshot" scale="40"
fileref="screenshots/agent-group-relations2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.7. Изменение агентов, входящих в определенную
группу.</emphasis>
</para>

<para>
Агенты могут иметь различные права в группе, в Таблице 5-2 приводится полный
список возможных прав доступа.
</para>

<para>
<table id="table-of-group-permissions-after-installation">
<title>Права в группах OTRS</title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>
          Права
        </entry>
        <entry>
          Описание
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          ro
        </entry>
        <entry>
          Права только на чтение заявок и записей или очередей группы.
        </entry>
      </row>
      <row>
        <entry>
          move into
        </entry>
        <entry>
          Права для перемещения заявок или записей между очередями или для области,
принадлежащей группе.
        </entry>
      </row>
      <row>
        <entry>
          create
        </entry>
        <entry>
          Права для создания заявок или записей в очередях или области группы.
        </entry>
      </row>
      <row>
        <entry>
          owner
        </entry>
        <entry>
          Права для изменения владельца заявок или записей в очередях принадлежащих
этой группе.
        </entry>
      </row>
      <row>
        <entry>
          priority
        </entry>
        <entry>
          Права для изменения приоритета заявок или записей в очереди или области,
принадлежащей этой группе.
        </entry>
      </row>
      <row>
        <entry>
          rw
        </entry>
        <entry>
          Полный доступ к заявкам или записям в очереди или области, принадлежащей к
этой группе.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>
</para>

<note>
    <para>
        По умолчанию, СписокОчередей (QueueView) отображает только заявки в
очередях, к которым агент имеет права <emphasis>rw</emphasis>, т.е к
заявкам, с которыми он должен работать. Если вы хотите изменить это
поведение, вы можете установить параметр <link
linkend="Ticket:Frontend::Agent::Ticket::ViewQueue:Ticket::Frontend::AgentTicketQueue_ViewAllPossibleTickets">
Ticket::Frontend::AgentTicketQueue###ViewAllPossibleTickets </link> в
значение <emphasis>Да</emphasis>.
    </para>
</note>
</section>

<section id="adminarea-roles">
<title>Роли</title>

<para>
Роли очень мощный и полезный инструмент для управления правами доступа
многих агентов простым и быстрым способом. Таким образом механизм ролей
позволяет сохранить много времени и идеально подходит для больших и сложных
систем, с большим количеством агентов, групп и очередей.
</para>

<para>
Чтобы обьяснить преимущества, получаемые от использования ролей, давайте
представим, что у нас есть система, в которой зарегистрированно 100 агентов,
90 из них имеют доступ только к очереди "поддержка", в которой хранятся все
запросы о поддержке. Очередь "поддержка" содержит несколько под
очередей. Остальные 10 агентов имеют права доступа ко всем очередям,
существующим в системе, их доступ не ограничивается очередью
"поддержка". Эти 10 агентов работают с заявками, просматривают "raw"-очередь
и перемещают сообщения в очередь "junk".
</para>

<para>
В один день, компания открывает новый отдел, которые продает товары. В таком
случае нужно создать новые очереди: "предложения", "подтверждения
предложений", "оплаты" и некоторые из агентов вашей системы должны сделать
это через OTRS. Разным агентам нужно предоставить доступ к очередям, которые
планируется создать.
</para>

<para>
Поскольку изменять права доступа для разных агентов вручную займет много
времени, то для определения различных уровней доступа можно создать
роли. Затем, агенты могут быть добавлены к одной или нескольким ролям, таким
образом их права будут изменены автоматически. Если будет создана новая
учетная запись агента, ее также можно с легкостью добавить в одну или
несколько ролей.
</para>

<note>
<para>
Роли действительно полезны для управления большимы системами OTRS. Однако не
следует использовать оба способа: "Агенты и Группы" и "Агенты и Роли" в одно
и тоже время, это может сделать обслуживание довольно сложным. Таким
образом, если вы решили использовать роли, мы бы вам рекомендовали отключить
настройку "Агенты &lt;-&gt; Группы" в панели управления, путем изменения
параметра <link
linkend="Framework:Frontend::Admin::ModuleRegistration:Frontend::Module_AdminUserGroup">
Frontend::Module###AdminUserGroup </link> в SysConfig. Помните, это не
удалит существующих агентов из их групп.</para>
</note>

<para>
Для управления ролями перейдите по ссылке <emphasis>Роли</emphasis> в панели
управления (см. ниже Рисунок 5.8).
</para>

<para>
<screenshot>
<screeninfo>Управление ро лями в OTRS</screeninfo> <graphic srccredit="Adminarea roles
- screenshot" scale="40" fileref="screenshots/admin-roles.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.8. Управление Ролями.</emphasis>
</para>

<note>
<para>
Для сохранения связанности данных, в OTRS нету возможности удалять роли, их
можно только деактивировать. Чтобы это сделать, установите параметр в
значение <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
В системе отображается список всех ролей, чтобы отредактировать запись,
просто нажмите на имя ролию Помните, что в новой, только что установленной
системе OTRS нету предопределенных ролей. Чтобы создать новую роль, нажмите
на кнопку "Добавить Роль", введите необходимые данные и нажмите кнопку
"Отправить" (см. ниже Рисунок 5.9).
</para>

<para>
<screenshot>
<screeninfo>Управление ро лями в OTRS</screeninfo> <graphic srccredit="Adminarea roles
- screenshot" scale="40" fileref="screenshots/add-role.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.9. Добавление новой роли.</emphasis>
</para>

<para>
Чтобы получить список всех ролей и агентов в системе, перейдите по ссылке
Роли &lt;-&gt; Агенты в панели управления, также можно использовать фильтры,
для поиска конкретного элемента. Если вы хотите изменить Роли Агента, просто
кликните на имя агента (см. ниже Рисунок 5.10). Чтобы изменить права доступа
сразу для всех агентов, которые находятся в роли, нажмите на имя роли,
которую хотите редактировать (см. ниже Рисунок 5.11).
</para>

<para>
<screenshot>
<screeninfo>Управления ролями агентов</screeninfo> <graphic srccredit="Adminarea roles
and agents - screenshot" scale="40"
fileref="screenshots/admin-roles-agents-relation.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.10. Изменение ролей агента.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Управления ролями агентов</screeninfo> <graphic srccredit="Adminarea groups
and agents - screenshot" scale="40"
fileref="screenshots/admin-roles-agents-relation2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.11. Изменение прав доступа для всех агентов
принадлежащих определенной роли.</emphasis>
</para>

<para>
Чтобы получить список всех Ролей и Групп системы, перейдите по ссылке Роли
&lt;-&gt; Группы в панели управления, вы увидите страницу, которая приведена
ниже на Рисунке 5.12. Для поиска конкретного элемента также можно
использовать фильтры.
</para>

<para>
<screenshot>
<screeninfo>Управление "Роль-Группа"</screeninfo> <graphic srccredit="Adminarea roles
and groups - screenshot" scale="40"
fileref="screenshots/admin-roles-groups.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.12. Управление отношениями Роль-Группа.</emphasis>
</para>

<para>
Чтобы определить различные права доступа для роли, нажмите на имя роли или
группы (см. ниже Рисунок 5.13 и 5.14, соответственно).
</para>

<para>
<screenshot>
<screeninfo>Изменение связей между группами и ролями</screeninfo> <graphic srccredit="Adminarea roles
and groups - screenshot" scale="40"
fileref="screenshots/groups-roles-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.13. Изменение соотношения между группами и
ролями.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Изменение отношения роли к группе</screeninfo> <graphic srccredit="Adminarea roles
and groups - screenshot" scale="40"
fileref="screenshots/groups-roles-relations2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.14. Изменение отношения роли к группе.</emphasis>
</para>

</section>

</section>


<section id="customers-and-groups">
<title>Клиенты и группы клиентов</title>

<section id="adminarea-customers">
<title>Клиенты</title>

<para>
OTRS поддерживает различные типы пользователей. Используя ссылку
"Пользователи" (в панели навигации панели управления), вы можете управлять
учетными записями пользователей (см. ниже Рисунок 5.14), которые могут войти
в систему используя пользовательский веб-интерфейс (customer.pl). Используя
этот интерфейс ваши клиенты могут создавать заявки, просматривать
их. Помните, клиенты необходимы в системе для истории заявок.
</para>

<para>
<screenshot>
<screeninfo>Управление клиентами в OTRS</screeninfo> <graphic srccredit="Adminarea
customer - screenshot" scale="40"
fileref="screenshots/admin-customer.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.14. Управление клиентами.</emphasis>
</para>

<para>
Вы можете производить поиск по зарегистрированным клиентам, редактировать их
данные, нажав на имя клиента. У вас также есть возможность изменить
клиентский back-end, за более подробной информацией обращайтесь к главе
<link linkend="external-backends"> внешние хранилища данных </link>.
</para>

<para>
Чтобы создать новую учетную запись клиента, нажмите кнопку "Добавить
клиента" (см. ниже Рисунок 5.15). Некоторые поля являются обязательными, т.е
они должи содержать данные, поэтому если вы оставите их пустыми, будет
выведено соответствующее сообщение.
</para>

<para>
<screenshot>
<screeninfo>Управление клиентами в OTRS</screeninfo> <graphic srccredit="Adminarea
customer - screenshot" scale="40"
fileref="screenshots/add-customer.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.14. Добавление клиента.</emphasis>
</para>

<para>
Клиент может получить доступ к системе путем ввода логина и
пароля. CustomerID нужен для идентификации пользователя и его
заявок. Поскольку адресс электронной почты является уникальным, его можно
использовать в качестве уникального идетнтификатора.
</para>

<note>
<para>
Для сохранения связанности данных, OTRS не позволяет удалять клиентов, их
можно только деактивировать. Что бы это сделать, установите значения
соответствующих параметров в <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-customers-groups">
<title>Группы клиентов</title>

<para>
Клиенты также могут быть добавлены в группу, это может быть полезно в том
случае, если вы хотите обьеденить нескольких клиентов той же компании,
которые должны иметь доступ к одной или нескольким очередям, через
пользовательский интерфейс. Сначала создайте группу, в которую будут входить
ваши пользователи, для этого перейдите по ссылке <link
linkend="adminarea-groups"> Модуль Управления Группами </link> . Затем
добавить <link linkend="adminarea-queue">очереди</link>  и выбрать новую
группу для этих очередей.
</para>

<para>
Следующим шагом будет включение поддержки клиентов группы. Это можно сделать
используя параметр конфигурации <link
linkend="Framework:Frontend::Customer:CustomerGroupSupport">
CustomerGroupSupport </link> с помощью графического конфигуратора OTRS
(SysConfig). Используя параметр <link
linkend="Framework:Frontend::Customer:CustomerGroupAlwaysGroups">
CustomerGroupAlwaysGroups </link> вы можете указать группы по умолчанию, к
которым будет принадлежать новый пользователь, таким образом каждая новая
учетная запись будет добавлятся в эту группу.
</para>

<para>
Перейдя по ссылке "Клиенты &lt;-&gt; Группы"  вы можете управлять
отношениями конкретного пользователя к разным группам (см. ниже Рисунок
5.15).
</para>

<para>
<screenshot>
<screeninfo>Управления группами клиентов</screeninfo> <graphic srccredit=">Adminarea
customer groups - screenshot" scale="40"
fileref="screenshots/admin-customer-groups.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.15. Управление отношениями Клиент-Группа.</emphasis>
</para>

<para>
Для определения различных групп, в которые должен входить клиент, и
наоборот, нажмите на соответствующее имя пользователя иги группы (см. ниже
Рисунок 5.16 и 5.17, соответственно).
</para>

<para>
<screenshot>
<screeninfo>Изменение соответствий между группой и пользователем</screeninfo> <graphic srccredit="Adminarea
customers and groups - screenshot" scale="40"
fileref="screenshots/groups-customers-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.16. Изменение соответствия группы и клиента.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Изменение связей между пользователем и группой</screeninfo> <graphic srccredit="Adminarea roles
and groups - screenshot" scale="40"
fileref="screenshots/groups-customers-relations2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.17. Изменение соответствий пользователя и
группы.</emphasis>
</para>

</section>

</section>

<section id="adminarea-queue">
<title>Очереди</title>

<para>
Используя ссылку "Очередь" которая находится в панели управления, вы можете
управлять <link linkend="what-is-a-queue"> queues </link> вашей системы
(см. ниже Рисунок 5.18). В новой, установленной системе OTRS существует
четире предопределенных очереди: Junk, Misc, Postmaster and Raw. Все
входящие сообщения сохраняются в очереди "Raw", если не используются фильтры
и правила, определенные ранее. В очереди "Junk" сохраняются спам-сообщения.
</para>

<para>
<screenshot>
<screeninfo>Управления очередями в OTRS</screeninfo> <graphic srccredit="Adminarea queue
- screenshot" scale="40" fileref="screenshots/admin-queue.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.18. Управление очередями.</emphasis>
</para>

<para>
Здесь вы можете добавлять очереди (см. ниже Рисунок 5.19) и модифицировать
их. Вы можете указать имя и группу для которой создатеся эта очередь; также,
если вы хотите, есть возможность определить под-очереди для существующей
группы.
</para>

<para>
<screenshot>
<screeninfo>Управления очередями в OTRS</screeninfo> <graphic srccredit="Adminarea queue
- screenshot" scale="40" fileref="screenshots/add-queue.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.19. Добавление новой очереди.</emphasis>
</para>

<para>
Вы можете определить время блокировки для очереди, т. е. если агент
заблокировал заявку и не закрыл ее до истечения времени блокировки, заявка
будет автоматически разблокирована и, следовательно, доступна для других
агентов.
</para>

<para>
Есть три типа настроек эскалации времени, которые могут быть связаны на
уровне очередей:
</para>

<itemizedlist>
    <title>Эскалация - Время Первого Отклика</title>
    <listitem>
        <para>
Если нету взаимодействия с клиетном, по эмейлу или телефону для новой заявки
до времени эскалации
        </para>
    </listitem>
</itemizedlist>

<itemizedlist>
    <title>Эскалация - Время обновления</title>
    <listitem>
        <para>
Если есть статья добавил, таких, как последующие, по электронной почте или
клиента портала, время эскалации обновление сбрасывается. Если нет контакта
с клиентом, либо электронной почте или внешнего телефона, добавлены билета
до времени определяется здесь истекает, билет обострилась.
        </para>
    </listitem>
</itemizedlist>

<itemizedlist>
    <title>Эскалация - Время решения</title>
    <listitem>
        <para>
Если заявка не закрыта до времени определяется здесь истекает, билет
считается эскалированным.
        </para>
    </listitem>
</itemizedlist>

<para>
С "Билет блокировку после последующей" можно определить, если билет должен
быть установлен на "заблокирован" на старого владельца, если билет, который
был установлен в закрытом, а затем повторно открыто. Это гарантирует, что
последующие за билет обрабатывается агентом, который ранее выполнялись, что
билет.
</para>

<para>
Параметр для системного адреса определяет адресс электронной почты, который
будет использоватся для исходящих заявко в очереди. Также есть возможность
связать очереди с приветствиями и подписями для ответов по электронной
почте.  За более подробной информацией перейдите по ссылке <link
linkend="adminarea-emailaddresses"> адреса электронной почты </link> , <link
linkend="adminarea-salutations"> приветствия </link> и <link
linkend="adminarea-signatures"> подписи </link> .
</para>

<note>
<para>
Для сохранения связанности данных, OTRS не позволяет удалять очереди, а
только деактивировать их. Чтобы это сделать установите соответствующие
параметры в значения <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-salutations-signatures-attachments-and-answers">
<title>Приветствия, подписи, вложения и ответы</title>

<section id="adminarea-salutations">
<title>Приветсвтия</title>

<para>
Приветствие это текстовый модуль для ответа. Приветствия могут быть связаны
с одной или многими очередями, как это описанов в разделе <link
linkend="adminarea-queue"> очереди </link>. Приветствия используются только
в том случае, когда заявка из определенной очереди связан с ней. Для
управления различными приветствиями в системе используйте ссылку
"Приветствия" в панели управления (см. ниже Рисунок 5.20) (различные
приветсвия в вашей системе )
</para>

<para>
<screenshot>
<screeninfo>Управления приветствиями</screeninfo> <graphic srccredit="Adminarea
salutation - screenshot" scale="40"
fileref="screenshots/admin-salutation.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.20. Управление приветсвиями.</emphasis>
</para>

<para>
После установки в системе есть одно предопределенное приветствие: "system
standard salutation (en)".
</para>

<para>
Чтобы создать новое приветствие, нажмите на кнопку "Добавить приветсвие",
введите необходимые данные и нажмите кнопку "Отправить" (см. ниже Рисунок
5.21).
</para>

<para>
<screenshot>
<screeninfo>Добавление приветствия</screeninfo> <graphic srccredit="Adminarea
salutation - screenshot" scale="40"
fileref="screenshots/add-salutation.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.21. Добавление нового приветствия.</emphasis>
</para>

<para>
Поскольку содержание приветствия может быть создано динамически, например,
для вещей, которые изменяются для каждой заявки (имя отправителя или адрес
электронной почты), в приветствиях можно использовать переменные. Таким
образом, если вы отвечаете на заявку, имена переменных будут заменены на их
реальное содержание, т.е. текст, который сохраняется в переменных.
</para>

<para>
Различные переменные, которые можно использовать в ответах приведены в
нижней части экрана приветствия. Если вы используете, например, переменную
&lt;OTRS_LAST_NAME&gt; то в ответ будет включена фамилия отправителя заявки.
</para>

<note>
<para>
Для сохранения связанности данных, OTRS не позволяет удалять приветствия, а
только деактивировть их. Чтобы это сделать, уснатовите значения
соответствующих параметров в значения <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-signatures">
<title>Подписи</title>

<para>
Другим текстовым модулем является модуль подписей. Подписи могут быть
связаны с очередями, как это описано в разделе <link
linkend="adminarea-queue"> очереди </link>. Если подпись связана с очередью
она будет включена в текст ответа каждой заявки, входящей в эту
очередь. Перейдя по ссылке "Подписи" в панели управления, вы можете
упарвлять подписями вашей системы (см. ниже Рисунок 5.22).
</para>

<para>
<screenshot>
<screeninfo>Управление подписями</screeninfo> <graphic srccredit="Adminarea
signatures - screenshot" scale="40"
fileref="screenshots/admin-signatures.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.22. Управление подписями.</emphasis>
</para>

<para>
В новой, установленной системе OTRS есть одна предустановленная подпись:
"system standard signature (en)".
</para>

<para>
Чтобы создать новую подпись, нажмите кнопку "Добавить подпись", введите все
необходимы данные и нажмите кнопку "Отправить" (см. ниже Рисунок 5.23).
</para>

<para>
<screenshot>
<screeninfo>Добавление подписи</screeninfo> <graphic srccredit="Adminarea
signature - screenshot" scale="40"
fileref="screenshots/add-signature.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.23. Добавление новой подписи.</emphasis>
</para>

<para>
Как и приветствия, подписи также могут содержать динамическое содержания
(например, имя и фамилиюагента, который отвечает на заявку), а также
переменные заменить содержание текста подписи для каждой заявки. См. в
нижней части экрана подписи для переменных, которые могут быть
использованы. Если вы включите переменной &lt;OTRS_LAST_NAME&gt; в подписи,
например, фамилию агента, который отвечает на заявку заменит имя переменной.
</para>

<note>
<para>
Для сохранения связанности данных, OTRS не позволяет удалять подписи, а
толко деактивировать их. Чтобы это сделать, установите соответствющие
параметры в значения <emphasis>invalid</emphasis> или
<emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-attachments">
<title>Вложения</title>

<para>
По желанию, вы также можете создать одно или несколько вложений для
ответа. Если ответ выбран, вложения будут прикреплены к окну состав
сообщения. При необходимости агент может удалить вложения из отдельных ответ
перед отправкой его клиенту.
</para>

<para>
Используя ссылку "Вложения" на панели управления, вы можете загрузить
вложения в базу данных приложения (см. ниже  Рисунок 5.24).
</para>

<para>
<screenshot>
<screeninfo>Управления вложениями для ответов</screeninfo> <graphic srccredit="Adminarea
attachment - screenshot" scale="40"
fileref="screenshots/admin-attachment.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.24. Управление вложениями.</emphasis>
</para>

<para>
Чтобы создать новое вложение, нажмите кнопку "Добавить вложение", введите
всю необходимую информацию и нажмите кнопку "Отправить" (см. Рисунок 5.25
ниже).
</para>

<para>
<screenshot>
<screeninfo>Добавить вложение</screeninfo> <graphic srccredit="Adminarea
signature - screenshot" scale="40"
fileref="screenshots/add-attachment.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Рисунок 5.25. Добавление нового вложения.</emphasis>
</para>

<para>
Когда вложение сохранено, оно может быть связанно с одним и несколькими
ответами, перейдите по ссылке "Вложения &lt;-&gt; Ответы"  в панели
управления (см. ниже Рисунок 5.26).
</para>

<para>
<screenshot>
<screeninfo>Связывание вложений с ответами</screeninfo> <graphic srccredit="Adminarea
attachment response - screenshot" scale="40"
fileref="screenshots/admin-attachment-response.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.26. Linking attachments to responses.</emphasis>
</para>

<para>
To define the different attachments a response can have and viceversa, click
on the corresponding response name or attachment (see below the Figures 5.27
and 5.28, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change attachment relations for a response</screeninfo> <graphic srccredit="Adminarea
responses and attachments - screenshot" scale="40"
fileref="screenshots/response-attachment-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.27. Change attachment relations for a
response.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change response relations for an attachment</screeninfo> <graphic srccredit="Adminarea
responses and attachments - screenshot" scale="40"
fileref="screenshots/response-attachment-relations2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.28. Change response relations for an
attachment.</emphasis>
</para>

</section>


<section id="adminarea-Responses">
<title>Responses</title>

<para>
To accelerate answering tickets and to standardize the look of answers, you
can define responses in OTRS. A response can be linked to one or more queues
and vice versa. In order to be able to use a response quickly, the different
responses are displayed below of every ticket in the QueueView or in "My
Queues".
</para>

<para>
After a a default installation of the system the "empty answer" response is
defined for every queue. Through the "Responses" link in the admin area, it
is possible to manage the different responses (see Figure 5.29 below).
</para>

<para>
<screenshot>
<screeninfo>Responses</screeninfo> <graphic srccredit="Adminarea
response - screenshot" scale="40"
fileref="screenshots/admin-response.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.29. Responses management.</emphasis>
</para>

<para>
To store a new response, just click on the Add response button, provide the
required data and submit it (see Figure 5.30 below).
</para>

<para>
<screenshot>
<screeninfo>Responses</screeninfo> <graphic srccredit="Adminarea
response - screenshot" scale="40"
fileref="screenshots/add-response.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.30. Adding a response.</emphasis>
</para>

<para>
To add/remove responses to one or more queues, the "Responses &lt;-&gt;
Queues" link of the admin area can be used (see Figure 5.31 below). You can
also use the filters to look for a specific element.
</para>

<para>
<screenshot>
<screeninfo>Manage response-queue relations</screeninfo> <graphic srccredit="Adminarea
response queue - screenshot" scale="40"
fileref="screenshots/admin-response-queue.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.31. Response-Queue relations management.</emphasis>
</para>

<para>
To define the different responses that will be available for a queue and
vice versa, click on the corresponding response or queue (see below the
Figures 5.32 and 5.33, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change queue relations for a response</screeninfo> <graphic srccredit="Adminarea
response and queue - screenshot" scale="40"
fileref="screenshots/responses-queues-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.32. Change queue relations for a response.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change response relations for a queue</screeninfo> <graphic srccredit="Adminarea
response and queue - screenshot" scale="40"
fileref="screenshots/responses-queues-relations2.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.33. Change response relations for a queue.</emphasis>
</para>

<para>
If you use a response, for example through the QueueView, you can see that
not only the text of the response and the ticket text is displayed, but also
a salutation and a signature. A response is assembled by different text
modules. The signature and the salutation of the queue, where the ticket is
stored, are two of the text modules of the response and also the original
ticket text and, if defined, the text of the response is included. The
different text modules are ordered in a way that first the salutation is
displayed, then the quoted ticket text, after that, the text of the response
comes, and finally, the signature is shown.
</para>

</section>

</section>



<section id="adminarea-auto-responses">
<title>Auto responses</title>

<para>
With OTRS, you can send automatic responses to customers if special events
happen, e.g. creation of a ticket in certain queue, reception of a follow-up
for a ticket, closure or rejection of a ticket, etc. To manage this type of
responses, just use "Auto responses" of the admin area (see Figure 5.34
below).
</para>

<para>
<screenshot>
<screeninfo>Auto response management</screeninfo> <graphic srccredit="Adminarea auto
response - screenshot" scale="40"
fileref="screenshots/admin-autoresponse.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.34. Auto response management.</emphasis>
</para>

<para>
To create an automatic response, click on the button "Add auto response",
provide the needed data and submit it (see Figure 5.35 below).
</para>

<para>
<screenshot>
<screeninfo>Adding an auto response</screeninfo> <graphic srccredit="Adminarea auto
response - screenshot" scale="40"
fileref="screenshots/add-autoresponse.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.35. Adding an auto response.</emphasis>
</para>

<para>
The subject and text of auto responses can also be generated by variables,
the same as in signatures and salutations. If you insert, for example, the
variable &lt;OTRS_CUSTOMER_EMAIL[5]&gt; into the body of the auto answer,
the first 5 lines of the customer mail text will be inserted into the auto
answer. At the bottom of the screen, shown in the Figure 5.35, you will find
more details about the valid variables that can be used.
</para>

<para>
For every automatic answer, you can specify the event that should trigger
it. The system events that are available after a default installation are
described in the Table 5-3.
</para>

<table id="table-of-autoanswer-types">
<title>Events for auto answers</title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>
          Название
        </entry>
        <entry>
          Описание
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          auto reply
        </entry>
        <entry>
          Creation of a ticket in a certain queue.
        </entry>
      </row>
      <row>
        <entry>
          auto reply/new ticket
        </entry>
        <entry>
          Reopening of an already closed ticket, e.g. if a customer replies to such
ticket.
        </entry>
      </row>
      <row>
        <entry>
          auto follow up
        </entry>
        <entry>
          Reception of a follow-up for a ticket.
        </entry>
      </row>
      <row>
        <entry>
          auto reject
        </entry>
        <entry>
          Automatic rejection of a ticket, done by the system.
        </entry>
      </row>
      <row>
        <entry>
          auto remove
        </entry>
        <entry>
          Deletion of a ticket, done by the system.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
auto responses, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
To add an auto response to a queue, use the "Auto Response &lt;-&gt; Queues"
link in the admin area (see Figure 5.36 below). All system events are listed
for every queue and an auto answer with the same event can be selected or
removed via a listbox.
</para>

<para>
<screenshot>
<screeninfo>Manage queue - auto response relations</screeninfo> <graphic srccredit="Adminarea queue
- auto response - screenshot" scale="40"
fileref="screenshots/admin-autoresponse-queue.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.36. Queue-Auto response relations management.</emphasis>
</para>

<para>
To define the different auto responses that will be available for a queue,
click on the corresponding queue name (see Figure 5.37 below). It is also
possible to edit an existing auto response, to do so, click on the wished
registry and change anything you need to, as if it was a new auto response.
</para>

<para>
<screenshot>
<screeninfo>Change auto response relations for a queue</screeninfo> <graphic srccredit="Adminarea auto
response and queue - screenshot" scale="40"
fileref="screenshots/autoresponses-queues-relations.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.37. Change auto response relations for a
queue.</emphasis>
</para>

</section>


<section id="adminarea-emailaddresses">
<title>Email addresses</title>

<para>
To enable OTRS to send emails, you need at least a valid email address to be
used by the system. Due to a lot of setups need more than one email address,
OTRS is able to simultaneously work with several of them. A queue can be
linked to many email addresses, and vice versa. The address, that shall be
used for outgoing messages from a queue, can be set when the queue is
created. Use the "Email Addresses" link of the admin area, to manage all
email addresses of the system (see Figure 5.38 below).
</para>

<para>
<screenshot>
<screeninfo>Managing the email addresses of the system</screeninfo> <graphic srccredit="Adminarea email
- screenshot" scale="40" fileref="screenshots/admin-email.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.38. System email addresses management.</emphasis>
</para>

<para>
If you create a new mail address (see Figure 5.39 below) you can select the
queue or sub queue that shall be linked with it. This link enables the
system to sort incoming messages via the address in the To: field of the
mail into the right queue.
</para>

<para>
<screenshot>
<screeninfo>Adding a system email address</screeninfo> <graphic srccredit="Adminarea email
- screenshot" scale="40" fileref="screenshots/add-email.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.39. Adding a system email address.</emphasis>
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
system email addresses, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-notifications">
<title>Notifications</title>

<para>
OTRS allows sending notifications to agents and customer when a specific
event happens.  Agents can select the system events for their own
notifications in the <link linkend="user-preferences"> preferences </link> .
</para>

<para>
Through the "Notification" link in the adminarea, you can manage the
notifications of your system (see Figure 5.40 below). With the help of the
filters, you can search for specific registries.
</para>

<para>
<screenshot>
<screeninfo>Managing notifications</screeninfo> <graphic srccredit="Adminarea
notifications - screenshot" scale="40"
fileref="screenshots/admin-notification.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.40. Notification management.</emphasis>
</para>

<para>
You can customize the subject and the text of the notifications. Just select
the notification you want to change from the list and load its content by
clicking on it (see Figure 5.41). Please note that there is a notification
with the same name for each of the available languages.
</para>

<para>
<screenshot>
<screeninfo>Managing notifications</screeninfo> <graphic srccredit="Adminarea
notifications - screenshot" scale="40"
fileref="screenshots/customize-notification.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.41. Customizing a notification.</emphasis>
</para>

<para>
Like signatures and salutations, it is possible to dynamically create the
content of a notification, by using special variables. At the bottom of the
screen shown in the Figure 5.41 you can find a list of them.
</para>

<para>
It is also possible to create notifications based in events. You can specify
in detail when and to whom you want this notification to be sent, since you
can choose from a wide diversity of parameters, such as: recipient group(s),
agent(s), role(s), email address(es); type of event that will trigger the
notification, ticket: type, state, priority, queue, lock, service, SLA, etc.
</para>

<para>
In order to see a list of all the event based notifications, click on the
link Notifications(Event)  in the admin area (see Figure 5.42).
</para>

<para>
<screenshot>
<screeninfo>Managing event based notifications</screeninfo> <graphic srccredit="Adminarea event
based notifications - screenshot" scale="40"
fileref="screenshots/admin-notification-eventbased.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.42. Event based notification management.</emphasis>
</para>

<para>
In the screen shown in the Figure 5.42 you can create a new notification by
clicking on the Add button (see Figure 5.43).
</para>

<para>
<screenshot>
<screeninfo>Managing event based notifications</screeninfo> <graphic srccredit="Adminarea event
based notifications - screenshot" scale="40"
fileref="screenshots/admin-notification-eventbased-new.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.43. Registering an event based notification
management.</emphasis>
</para>

<para>
Please note that the content of the event based notifications can also be
dynamically created by using the special variables listed at the bottom of
the screen shown in the Figure 5.43.
</para>

</section>


<section id="adminarea-smime">
<title>SMIME</title>

<para>
OTRS can process incoming S/MIME encoded messages and sign outgoing mails.
Before this feature can be used, you need to activate it and change some
<link linkend="Framework:Crypt::SMIME"> config parameters </link> in the
SysConfig.
</para>

<para>
The "S/MIME Certificates" link in the admin area of OTRS, allows you manage
your S/MIME certificates (see Figure 5.44 below). You can add or remove
certificates and search through the SMIME data.
</para>

<para>
<screenshot>
<screeninfo>SMIME</screeninfo> <graphic srccredit="Adminarea smime
- screenshot" scale="40" fileref="screenshots/admin-smime.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.44. S/MIME management.</emphasis>
</para>

</section>


<section id="adminarea-pgp">
<title>PGP</title>

<para>
OTRS handles PGP keys, which allows you to encrypt/decrypt messages and to
sign outgoing messages. Before this feature can be used, you need to
activate it and change some <link linkend="Framework:Crypt::PGP"> config
parameters </link> in the SysConfig.
</para>

<para>
Through the "PGP Keys" link in the admin area of OTRS, it is possible to
manage the key ring of the user who shall be used for PGP with OTRS (see
Figure 5.45 below), e.g. the local OTRS user or the web server user. It is
possible to add and remove keys and signatures, and you can search through
all data in your key ring.
</para>

<para>
<screenshot>
<screeninfo>PGP</screeninfo> <graphic srccredit="Adminarea pgp -
screenshot" scale="40" fileref="screenshots/admin-pgp.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.45. PGP management.</emphasis>
</para>

</section>


<section id="adminarea-status">
<title>States</title>

<para>
Through the "States" link, in the admin area of OTRS, you can manage the
different ticket states you want to use in the system (see Figure 5.46
below).
</para>

<para>
<screenshot>
<screeninfo>Managing ticket states</screeninfo> <graphic srccredit="Adminarea states
- screenshot" scale="40" fileref="screenshots/admin-states.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.46. State management.</emphasis>
</para>

<para>
After a default setup, there are some states defined:
</para>

<itemizedlist>
  <listitem>
    <para>
        closed successful
    </para>
  </listitem>
  <listitem>
    <para>
        closed unsuccessful
    </para>
  </listitem>
  <listitem>
    <para>
        merged
    </para>
  </listitem>
  <listitem>
    <para>
        new
    </para>
  </listitem>
  <listitem>
    <para>
        open
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto close+
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto close-
    </para>
  </listitem>
  <listitem>
    <para>
        pending reminder
    </para>
  </listitem>
  <listitem>
    <para>
        removed
    </para>
  </listitem>
</itemizedlist>

<para>
Every state is linked to a type, which needs to be specified if a new state
is created. Per default the state types are:
</para>

<itemizedlist>
  <listitem>
    <para>
        closed
    </para>
  </listitem>
  <listitem>
    <para>
        merged
    </para>
  </listitem>
  <listitem>
    <para>
        new
    </para>
  </listitem>
  <listitem>
    <para>
        open
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto
    </para>
  </listitem>
  <listitem>
    <para>
        pending reminder
    </para>
  </listitem>
  <listitem>
    <para>
        removed
    </para>
  </listitem>
</itemizedlist>

</section>


<section id="adminarea-sysconfig">
<title>SysConfig</title>

<para>
The SysConfig is the place where many configuration options for OTRS are
stored.
</para>

<para>
The "SysConfig" link in the admin area of OTRS loads the graphical
configuration front-end (see Figure 5.47 below). You can upload own config
files for the system and backup all your current settings into a
file. Almost all config parameters of the OTRS framework and the installed
applications, can be viewed and changed through the web interface. Because
all config parameters are sorted into groups and sub groups, it is possible
to navigate quickly through the multitude of the parameters. Also it is
possible to perform a full-text search through all the config parameters.
</para>

<para>
<screenshot>
<screeninfo>The graphical configuration front-end of OTRS (SysConfig)</screeninfo> <graphic srccredit="Adminarea
sysconfig - screenshot" scale="40"
fileref="screenshots/admin-sysconfig.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.47. The graphical configuration front-end of OTRS
(SysConfig).</emphasis>
</para>

<para>
The graphical configuration front-end is described in more detail in the
chapter <link linkend="sysconfig"> "Configuring the system through the web
interface" </link> .
</para>

</section>


<section id="adminarea-postmasterpop3-account">
<title>Using mail accounts</title>

<para>
There are several possibilities to transport new emails into the ticket
system. One of them is the <link linkend="email-receiving-cmd">
otrs.PostMaster.pl module </link> that pipes the mails directly into the
system. Another possibility is the use of mail accounts, which can be
administrated through the web interface. The "PostMaster Mail Accounts" link
in the admin area of OTRS, loads the management console for the mail
accounts (see Figure 5.48 below). OTRS supports the mail protocols: POP3,
POP3S, IMAP and IMAPS.
</para>

<para>
<screenshot>
<screeninfo>Mail account management</screeninfo> <graphic srccredit="Adminarea
postmaster - screenshot" scale="40"
fileref="screenshots/admin-mailaccount.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.48. Mail account management.</emphasis>
</para>

<para>
See the section about the <link linkend="email-receiving-pop3"> PostMaster
mail accounts </link> for more details.
</para>

</section>



<section id="adminarea-postmasterfilter">
<title>Filtering incoming messages</title>

<para>
Because incoming messages can be sorted automatically into queues or spam
mails can be moved into a specific queue, OTRS has the possibility to filter
incoming messages. It does not matter, if <filename>PostMaster.pl</filename>
or mail accounts are used to get messages into the ticket system. Filter
rules can be created through the link "PostMaster Filter" in the admin area
of OTRS (see Figure 5.49 below).
</para>

<para>
<screenshot>
<screeninfo>Managing filter rules for incoming messages</screeninfo> <graphic srccredit="Adminarea
postmasterfilter - screenshot" scale="40"
fileref="screenshots/admin-postmasterfilter.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.49. PostMaster filter management.</emphasis>
</para>

<para>
A filter consists of one or more criteria that must match for the defined
actions to be executed. You can define filter criteria for the headers or
the body of an email, e.g. search for specific header entries or strings in
the body, even regular expressions are allowed. All actions for a filter
rule are triggered by X-OTRS headers, which are inserted if the filter
criteria match. The ticket system evaluates the inserted X-OTRS headers and
executes the specific actions.  X-OTRS headers can be used to sort an
incoming message into a specific queue, change the priority of the message
or ignore the message and deliver it not to the system. The Table 5-4 lists
the different X-OTRS headers and their meaning.
</para>

<para>
Note: You also can use X-OTRS-FollowUp-* headers for follow up emails.
</para>

<table id="table-of-x-otrs-headers">
<title>Function of the different X-OTRS-headers</title>
  <tgroup cols="3">
    <thead>
      <row>
        <entry>
          Название
        </entry>
        <entry>
          Possible values
        </entry>
        <entry>
          Описание
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          X-OTRS-Priority:
        </entry>
        <entry>
          1 very low, 2 low, 3 normal, 4 high, 5 very high
        </entry>
        <entry>
          Sets the priority of a ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Queue:
        </entry>
        <entry>
          Name of a queue in the system.
        </entry>
        <entry>
          Sets the queue where the ticket shall be sorted in. Is a queue set by a
X-OTRS header all other filter rules that try to sort a ticket into a
specific queue are ignored.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Lock:
        </entry>
        <entry>
            lock, unlock
        </entry>
        <entry>
          Sets the lock state of a ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Ignore:
        </entry>
        <entry>
          Yes or True
        </entry>
        <entry>
          Is this X-OTRS header set to "Yes", the incoming message will completely be
ignored and never delivered to the system.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-State:
        </entry>
        <entry>
          new, open, closed successful, closed unsuccessful, ...
        </entry>
        <entry>
          Sets the next state of the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-State-PendingTime:
        </entry>
        <entry>
         e. g. 2010-11-20 00:00:00
        </entry>
        <entry>
          Sets the pending time of a ticket (you also should sent a pending state via
X-OTRS-State).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Type:
        </entry>
        <entry>
         default (depends on your setup)
        </entry>
        <entry>
          Sets the type of a ticket (if Ticket::Type support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Service:
        </entry>
        <entry>
         (depends on your setup)
        </entry>
        <entry>
          Sets the service of a ticket (if Ticket::Service support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-SLA:
        </entry>
        <entry>
         (depends on your setup)
        </entry>
        <entry>
          Sets the SLA of a ticket (if Ticket::Service support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-CustomerUser:
        </entry>
        <entry>
          CustomerUser
        </entry>
        <entry>
          Sets the customer user for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-CustomerNo:
        </entry>
        <entry>
          CustomerNo
        </entry>
        <entry>
          Sets the customer ID for this ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleKey(1|2|3):
        </entry>
        <entry>
          Additional info key for the article.
        </entry>
        <entry>
          Saves an additional info key for this article.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleValue(1|2|3):
        </entry>
        <entry>
          Additional info value for the article.
        </entry>
        <entry>
          Saves an additional info value for the article.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-SenderType:
        </entry>
        <entry>
          agent, system, customer
        </entry>
        <entry>
          Sets the type of the ticket sender.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleType:
        </entry>
        <entry>
          email-external, email-internal, email-notification-ext,
email-notification-int, phone, fax, sms, webrequest, note-internal,
note-external, note-report
        </entry>
        <entry>
          Sets the article type for the incoming ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-TicketKey(1|2|...|8):
        </entry>
        <entry>
          Additional info key for the ticket.
        </entry>
        <entry>
          Saves an additional info key for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-TicketValue(1|2|...|8):
        </entry>
        <entry>
          Additional info value for the ticket.
        </entry>
        <entry>
          Saves an additional info value for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Loop:
        </entry>
        <entry>
          True
        </entry>
        <entry>
          If this X-OTRS header is set no auto answer is delivered to the sender of
the message (mail loop protection).
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>

<para>
A name must be specified for every filter rule. In the section for "Match"
the filter criteria can be specified. Choose via the listboxes for "Header
1", "Header 2" and so on the parts of the messages where you would like to
search and specify via the input files on the right sides the values. In the
section for "Set" you can choose the actions that are triggered, if the
filter rules match. You can select for "Header 1", "Header 2" and so on the
X-OTRS-Header and set the values (see Figure 5.50 below).
</para>

<para>
<screenshot>
<screeninfo>Addin filter rules for incoming messages</screeninfo> <graphic srccredit="Adminarea
postmasterfilter - screenshot" scale="40"
fileref="screenshots/add-postmasterfilter.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.50. Add a PostMaster filter.</emphasis>
</para>

<example id="sort-mails-into-junk">
<title>Sort spam mails into a specific queue</title>

<para>
A useful filter rule could be to let OTRS automatically sort mails marked
for spam with a spam detection tool, such as SpamAssassin, into the "Junk"
queue.  SpamAssassin adds the "X-Spam-Flag" header to every checked mail.
When the mail is marked as spam, the Header is set to "Yes". So the filter
criteria would be "X-Spam-Flag: Yes". To create a filter rule with this
criteria you can insert the name for example "spam-mails". Also choose in
the section for "Match" for "Header 1" from the listbox
"X-Spam-Flag:". Insert "Yes" as value for this header. Now the filter
criteria is specified. To make sure, that all spam mails get sorted into the
"Junk" queue choose in the section for "Set" for "Header 1" the
"X-OTRS-Queue:" entry. Specify "Junk" as value for this header. Finally add
the new filter rule to activate it for the next new messages in the system.
</para>
</example>

<para>
There are additional modules, that can be used to <link
linkend="email-receiving-filter"> filter incoming messages </link> more
specifically. These modules might be useful on bigger and complex systems.
</para>

</section>


<section id="adminarea-genericagent">
<title>Executing automated jobs with the GenericAgent</title>

<para>
The GenericAgent is a tool to execute tasks automatically, that otherwise
should be done by a human person, a real agent. The GenericAgent, for
example, can close or move tickets, send notifications on escalated tickets,
etc.
</para>

<para>
To access to the GenericAgent, the link "GenericAgent" in the admin area of
OTRS can be used (see Figure 5.51 below). A table with the already created
jobs is displayed, where jobs can be executed manually or removed.
</para>

<para>
<screenshot>
<screeninfo>Job list for the GenericAgent</screeninfo> <graphic srccredit="Adminarea
genericagent - screenshot" scale="40"
fileref="screenshots/admin-genericagent.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.51. Job list for the GenericAgent.</emphasis>
</para>

<para>
To create a new job a name must be specified and the "Add job" button must
be pressed. Via the screen for the creation of a new job for the
GenericAgent you can specify the times when the job shall be executed,
different criteria to select the tickets to work on and the new properties
of those tickets (see Figure 5.52 below).
</para>

<para>
<screenshot>
<screeninfo>Creating a job for the GenericAgent</screeninfo> <graphic srccredit="Adminarea
genericagent - screenshot" scale="40"
fileref="screenshots/add-genericagent-job.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.52. Creating a job for the GenericAgent.</emphasis>
</para>

<para>
If the creation of the job is finished all affected tickets by the job are
listed. This list helps you verify that the job is having the expected
behavior, no changes are made to these tickets yet. The job will be really
activated if it is saved into the job list.
</para>

</section>


<section id="adminarea-adminemail">
<title>Admin email</title>

<para>
OTRS administrators can send messages to specific users or groups.  The
"Admin Notification" in the admin area, opens the screen where the agents
and groups that should be notified can be selected (see Figure 5.53 below).
</para>

<para>
<screenshot>
<screeninfo>Admin notification</screeninfo> <graphic srccredit="Adminarea email
- screenshot" scale="40"
fileref="screenshots/send-admin-notification.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.53. Admin notification.</emphasis>
</para>

<para>
It is possible to specify the sender, subject and body text of the
notification.  You can also select the agents, groups and roles who should
receive the message.
</para>

</section>

<section id="adminarea-session-management">
<title>Session management</title>

<para>
You can see all logged in users and their session details by clicking the
"Session Management" link in the admin area (see Figure 5.54 below).
</para>

<para>
<screenshot>
<screeninfo>Session management</screeninfo> <graphic srccredit="Adminarea
sessionmanagement - screenshot" scale="40"
fileref="screenshots/admin-sessionmanagement.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.54. Session management.</emphasis>
</para>

<para>
Some statistics about all active sessions are displayed, e.g. how many
agents and customer users are logged in, number of active sessions.  Every
individual session can be removed y clicking on the <emphasis>Kill this
session</emphasis> in the right-hand side of the list.  You also have the
option to <emphasis>Kill all sessions</emphasis>, which can be useful if
you'd like to bring the system down.  Detailed information for every session
is available, too (see Figure 5.55 below).
</para>

<para>
<screenshot>
<screeninfo>Session details</screeninfo> <graphic srccredit="Adminarea
session management - screenshot" scale="40"
fileref="screenshots/admin-session-details.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.55. Session details.</emphasis>
</para>

</section>

<section id="adminarea-system-log">
<title>System Log</title>

<para>
The "System Log" link in the admin area of OTRS, shows the last log entries
of the system (see Figure 5.56 below).
</para>

<para>
<screenshot>
<screeninfo>System Log</screeninfo> <graphic srccredit="Adminarea syslog
- screenshot" scale="40" fileref="screenshots/admin-syslog.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.56. System Log.</emphasis>
</para>

<para>
Each line in the log contains: a time stamp, the log priority, the system
component and the log entry itself.
</para>

<note>
<para>
The system logs are only available via the web interface on linux or unix
systems. On Windows systems you can see the log by opening the file
<filename>[install_dir]otrs\var\log\otrs.log</filename> with a text editor.
</para>
</note>

</section>


<section id="adminarea-selectbox">
<title>SQL queries via the SQL box</title>

<para>
The "SQL Box" link in the admin area, opens a screen that lets you query the
content of the tables in the OTRS database (see Figure 5.57 below). It is
not possible to change the content of the tables, only queries are allowed.
</para>

<para>
<screenshot>
<screeninfo>SQL Box</screeninfo> <graphic srccredit="Adminarea
selectbox - screenshot" scale="40"
fileref="screenshots/admin-selectbox.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.57. SQL Box.</emphasis>
</para>

</section>


<section id="adminarea-package-manager">
<title>Package manager</title>

<para>
Using the "Package Manager" in the admin area, you can install and manage
packages that extend the functionality of OTRS (see Figure 5.58 below). See
the <link linkend="application">Additional applications</link> section for a
discussion on the extensions that are available from the OTRS repositories.
</para>

<para>
<screenshot>
<screeninfo>Package Manager</screeninfo> <graphic srccredit="Adminarea
packagemanager - screenshot" scale="40"
fileref="screenshots/admin-packagemanager.png"></graphic></screenshot>
</para>

<para>
    <emphasis>Figure 5.58. Package Manager.</emphasis>
</para>

<para>
In the package manager you can review the packages you currently have
installed together with their version numbers.
</para>

<para>You can install packages from a remote host by selecting the repository in
the <emphasis>Online Repository</emphasis> section and clicking the
<emphasis>Update repository information</emphasis> button. The available
packages are displayed in the corresponding table. The right side of the
screen shows the available packages. To install one, click on
<emphasis>Install</emphasis>.  After installation the package is displayed
in the <emphasis>Local Repository</emphasis> section.
</para>

<para>
To upgrade an installed package, the list of available packages in the
online repository will show <emphasis>Upgrade</emphasis> in the Action
column for any package that has a higher version than the locally
installed. Just click Upgrade and it will install the new package on your
system.
</para>

<para>
In some cases, such as when your OTRS system is not connected to the
Internet, you can also install packages you have downloaded to a local
disk.  Click the <emphasis>Browse</emphasis> button on the Actions side bar
and select the .opm file on your disk.  Click <emphasis>Open</emphasis> and
then <emphasis>Install Package</emphasis>. After installation the package is
displayed in the <emphasis>Local Repository</emphasis> section. You can use
the same steps for updating a package that is already installed.
</para>

<para>
In special cases, you might want to configure the package manager, e.g., to
use a proxy or to use a local repository. Just take a look at the available
options in SysConfig under <link
linkend="Framework:Core::Package">Framework:Core::Package</link>.
</para>

</section>

</chapter>
